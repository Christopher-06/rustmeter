# rustmeter-beacon

rustmeter is a collection of Rust libraries and macros for monitoring and tracing function execution in embedded systems. It provides tools to instrument functions, capture execution metrics, and trace function calls with minimal overhead. it is designed to work seamlessly with the `embassy` async executor for embedded Rust applications.

this crate contains the host side desktop application for connecting to the embedded device and gather these logs. It will run cargo run and print all normal defmt messages to the console. Everything rustmeter-beacon data will get filtered out and saved to a file for later analysis. For a later analysis tool you can use perfetto UI .dev . Choose "Import" and select the file generated by rustmeter-beacon. Perfetto UI does not upload your data to any server, everything is done locally in your browser.

you can run the application with --release flag to build your project in release mode.

## getting started

0. make sure your embedded project uses rustmeter-beacon as a dependency and is properly instrumented. see the rustmeter-beacon crate for more details.

1. install rustmeter:

```sh
cargo install rustmeter
```

2. navigate to your embedded project directory and run rustmeter:

```sh
rustmeter --release
```

3. exit the console (ctrl+c) when you are done collecting data. The data will be saved to a file named `rustmeter-perfetto.json` in the directory. Now you can open this file with perfetto UI for analysis: Link: https://ui.perfetto.dev/